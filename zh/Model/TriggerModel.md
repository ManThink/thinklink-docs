联动模型用于在数据处理后触发指定的 RPC 指令，实现设备间的自动化控制。例如：当检测到环境温度变化时，自动调整空调的目标设定温度。

联动逻辑通过 JS 脚本代码实现。设备挂载联动模型后，需在设备的服务端属性中配置需要联动的设备 EUI。在 JS 代码中，可通过该属性调用目标设备的 RPC 指令，完成远程控制或参数设置。

## 新建联动模型
联动模型的执行结果为一个包含 RPC 调用指令的对象，返回值结构定义如下：

| 字段 | 说明 |
| --- | --- |
| `delayms` | 执行 RPC 前的延迟时间（单位：毫秒） |
| `abort_previous_timer` | 是否取消之前已存在的定时任务。若设为 `true`，则新任务将覆盖前序任务 |
| `actions` | 包含一个或多个待执行的 RPC 操作，按照数组顺序依次调用 |


每个 `actions` 数组项包含以下字段：

| 字段 | 说明 |
| --- | --- |
| `_eui` | 目标设备的唯一标识符（EUI）。该值可从当前设备的服务端属性中读取并动态传入 |
| `method` | 对应 RPC 名称（即 RPC 模型中定义的 `Method`） |
| `params` | 传递给 RPC 指令的输入参数对象。若该 RPC 不需要参数，则应设为 `null` |


## 返回值示例
```javascript
let temperatrue=device?.telemetry_data?.["thingModelId"].TP;
if (temperatrue >25){
  return {
  delayms: 10000,
  abort_previous_timer: true,
  should_dispatch: true,
  actions: [{
    method: "mt_data_transparent",
    params: {
    _eui: device.eui,
     "payload":"FE 05 00 00 FF 00 98 35"
    }
    }
  ]
  }
}
```

> **提示**：请确保目标设备已正确注册至 TKL 平台，并具备对应 RPC 模型及权限，否则指令将无法下发。
>

## 挂载联动模型
创建完成的 联动 需要绑定到具体设备才能使用。**操作路径**：  
`运维管理 → 设备管理 → 选择目标设备 → 详情 → 联动`**操作步骤**：

1. 在设备详情页点击 “联动” 标签。
2. 点击 “新增”，从下拉列表中选择已创建的 联动模型。
3. 可重复添加多个不同的 联动 到同一设备。

✅ 支持一个设备挂载多个 联动 ，适用于多功能控制场景。
