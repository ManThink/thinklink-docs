#  APP paras of Edgebus
This document provides a detailed guide for R&D and technical support personnel on configuring EdgeBus functions using App parameters. The EdgeBus parameter architecture is clearly structured into three main categories: **Version Information**, **Running Parameters**, and **System Information**, facilitating user understanding and operation.

###  Target Reader
This document is primarily intended for **R&D Engineers** and **Technical Support Engineers** who need to perform in-depth integration and debugging with EdgeBus devices.

### Getting Started with Configuration
Please refer to the document of RPC 
## Version Information
Version Information parameters provide the firmware and hardware identifiers for the EdgeBus device. This section occupies 8 bytes in total, and all data is **read-only**.

| Address | Length | Permission | Field | Description                                                                                                                                                                                    |
| :--- | :--- | :--- | :--- |:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 0 | 1B | Read-only | `fuotaversion` `hwtype` | **bit0-bit3**: FUOTA version number. During a FUOTA upgrade, the version number in the data packet must match this value.   <br>**bit4-bit7**: Lower 4 bits of hardware model (12 bits total). |
| 1 | 1B | Read-only | `hwtype` | Upper 8 bits of hardware model (12 bits total).                                                                                                                                                |
| 2 | 1B | Read-only | `len` <br/>`hwversion` | **bit0-bit3**: Number of bytes to copy during a FUOTA upgrade,  as `4 * (len + 1)`.   <br>**bit4-bit7**: Hardware version , range 1-15.                                                            |
| 3 | 1B | Read-only | `swversion` | Software version number, range 1-255.                                                                                                                                                          |
| 4-5 | 2B | Read-only | `bztype` | Model of the connected service device.                                                                                                                                                         |
| 6 | 1B | Read-only | `bzversion` | Service parameter version number.                                                                                                                                                              |
| 7 | 1B | Read-only | `filtermask` <br/>`otamask` <br/>`checkOk` | **bit0-bit2**: `filtermask`.   <br>**bit3**: Reserved.   <br>**bit4-bit6**: `otamask`.   <br>**bit7**: `checkOk` flag.                                                                                     |


## Running Parameters
Running Parameters define the working mode and core functions of the EdgeBus during operation. This section occupies 16 bytes in total.

| Address | Length | Permission | Field | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| :--- | :--- | :--- | :--- |:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 8 | 1B | R/W | `fieldMode` <br/>`RelayEnable` | **bit0**: `fieldMode`.   <br>**bit1**: `RelayEnable`, set to 1 to enable the relay function.   <br>**bit2-bit7**: Reserved.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 9 | 1B | Write | Function Trigger | Used to trigger specific EdgeBus actions:   <br>- **Write 1**: Reset the device.   <br>- **Write 2**: Execute all query and upload tasks.   <br>- **Write 4**: Rejoin the network.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 10 | 1B | R/W | `Resv` | Reserved.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| 11 | 1B | R/W | Wake-up & Channel Config | **bit0**: Set to 1 to allow waking up EdgeBus via a low-level input on the PC6 pin.   <br>**bit1**: Set to 1 to output a low level on PC2 to wake up the client MCU before sending data via UART.   <br>**bit2-bit3**: Reserved.   <br>**bit4-bit6**: Uplink channel selection (0: LoRaWAN, 1: 4G).   <br>**bit7**: Reserved.                                                                                                                                                                                                                                                                                                                                                                                        |
| 12 | 1B | R/W | Serial Baud Rate | Value is `Serial Baud Rate / 12`. For example, for a 9600 baud rate, this value should be 800.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 13 | 1B | R/W | Serial Comm. Params | **bit0-bit3**: Data bits.   <br>**bit4-bit5**: Stop bits.   <br>**bit6-bit7**: Parity bit (0: None, 1: Odd, 2: Even).   <br>**Note**: Data bit settings for even parity differ across hardware platforms:   <br>- **OMx11**: For 8 data bits with even parity, set data bits (bit0-bit3) to 9 and parity (bit6-bit7) to 2.   <br>- **OMx22**: For 8 data bits with even parity, set data bits (bit0-bit3) to 8 and parity (bit6-bit7) to 2.                                                                                                                                                                                                                                                                          |
| 14 | 1B | R/W | Working Mode | **bit0**: Set to 1 to keep EdgeBus in a constant receiving state, suitable for applications where connected devices actively upload data.   <br>**bit1**: Set to 1 to enable low-power mode.   <br>**bit2**: Set to 1 to exchange data with the connected device via UART1.   <br>**bit3**: Set to 1 to enable transparent (passthrough) mode.   <br>**bit4**: Channel selection (0: LoRaWAN, 1: Lora).   <br>**bit5**: Set to 1 to enable automatic network rejoin on power-up.   <br>**bit6**: Set to 1 to have EdgeBus send its own information via the Lora channel after power-up.   <br>**bit7**: Set to 1 to have EdgeBus complete time synchronization, mode switching, etc., within 60 seconds of power-up. |
| 15 | 1B | R/W | `confirm` Duty Cycle | When the uplink packet sequence number is an integer multiple of this value, a `confirm` packet is sent; otherwise, an `unconfirm` packet is sent.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 16 | 1B | R/W | Param. R/W Port | Port number for reading or setting EdgeBus parameters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 17 | 1B | R/W | Transparent Channel Port | Communication port number for transparent mode.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 18-19 | 2B | R/W | Scheduled Reset Period | EdgeBus will reset periodically according to the hours set here.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 20-23 | 4B | R/W | Uplink Time Offset | Unit is milliseconds (ms). This offset is added when EdgeBus uploads data. Usually set to 0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |


## System Information
System Information parameters provide real-time data about the EdgeBus hardware status and environment.

| Address | Length | Permission | Field | Description                                                                                                                                                                                                                                                              |
| :--- | :--- | :--- | :--- |:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 24 | 1B | R/W | `batterybase` | Battery level base value.                                                                                                                                                                                                                                                |
| 25-28 | 4B | R/W | UTC Time | Seconds since January 1, 1970.                                                                                                                                                                                                                                           |
| 29-30 | 2B | Read-only | Chip Temperature | Actual Temperature (¬∞C) = (Read Value - 1000) / 10.                                                                                                                                                                                                                      |
| 31 | 1B | Read-only | Chip Supply Voltage | Supply Voltage (V) = (Read Value / 254 * 1.6) + 2.                                                                                                                                                                                                                       |
| 32-33 | 2B | R/W | Query Timeout | **bit0-bit13**: Timeout value.   <br>**bit14-bit15**: Timeout unit (0: seconds, 1: minutes, 2: hours, 3: milliseconds).                                                                                                                                                  |
| 34 | 1B | R/W | Timeout Retry Count | Number of retry attempts after a query times out.                                                                                                                                                                                                                        |
| 35 | 1B | R/W | Serial Data Calibration | **bit0**: Set to 1 to enable serial data calibration.   <br>**bit1-bit2**: Calibration method (0: OR, 1: AND, 2: Direct Replace).   <br>**bit3-bit7**: Reserved.                                                                                                         |
| 36 | 1B | R/W | Serial Calibration Groups | Defines the number of calibration rules. Rules start at address 170, with each 3-byte group defining the start index, length, and calibration value.                                                                                                                     |
| 37 | 1B | R/W | Periodic Rejoin Period | The interval at which the device performs a periodic network rejoin.                                                                                                                                                                                                     |
| 38-39 | 2B | R/W | Peripheral Power-on Delay | Unit is milliseconds (ms). For low-power products, this ensures the peripheral's power supply (e.g., for RS485) is stable before it performs an operation.                                                                                                               |
| 40-43 | 4B | R/W | Heartbeat Interval | Heartbeat Interval  Unit in seconds.                                                                                                                                                                                                                                     |
| 44-59 | 16B      | Read-only |  System Reserved   | System reserved.                                                                                                                                                                                                                                                         |
| 60 | 1B | R/W | sub_device_counts | Number of connected devices in multi-device mode.                                                                                                                                                                                                                        |
| 61-64 | 4B | Read-only | System Reserved | System reserved.                                                                                                                                                                                                                                                         |
| 65 | 1B | R/W | query_index | Starting index of device address in query command.                                                                                                                                                                                                                       |
| 66 | 1B | R/W | sub_addr_size | Length of sub-device address in multi-device mode.                                                                                                                                                                                                                       |
| 67- | nB | R/W | sub_addr | Sub-device addresses in multi-device mode, based on sub_addr_size:   <br>**- Device 1:** `67 ~ 67 + sub_addr_size - 1`   <br>**- Device 2:** `67 + sub_addr_size ~ 67 + 2√ósub_addr_size - 1`   <br>**- Device N**: `67 + (N-1)√ósub_addr_size ~ 67 + N√ósub_addr_size - 1` |


## Other Parameters
### User-Open Address Space
‚óè Address Range: `70` - `200`

Description: This address space is reserved for user's free use and can be utilized to store custom data.

### Recommended Address Usage:
`70`‚Äì`110`: Store intervals (e.g., polling or upload intervals) in units of 4 bytes representing seconds.

`110`‚Äì`150`: Storage area for COV (Change of Value) thresholds.

`150`‚Äì`200`: Storage area for sub-device addresses or other user-defined data.

üåê **Website**: [www.manthink.cn](http://www.manthink.cn)  
‚úâ **Technical Support Email**: info@manthink.cn  
‚òé **Emergency Contact**: +86-15810684257

